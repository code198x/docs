---
title: "Riding the Logs"
description: "Implement platform mechanics. Learn how to detect when the frog lands on a log and make it ride along."
pubDate: 2026-01-03
game: 1
gameName: "Hop"
unit: 7
totalUnits: 16
system: "Commodore Amiga"
tags: ["assembly", "68000", "collision", "platforms"]
nextLesson: "/commodore-amiga/assembly/game-01-signal/unit-08"
layout: "../../../../layouts/UnitLayout.astro"
---

import CodeFromFile from "@components/CodeFromFile.astro";

*Need to catch up? Check out [Unit 6: The River](/commodore-amiga/game-01-signal/unit-06).*

## What You're Building

Logs float by, but the frog just phases through them. Time to make them rideable.

By the end of this unit, you'll have:

- Platform detection for logs
- The frog moving with the log it's standing on
- Zone detection (water vs road vs grass)

## The Frogger Mechanic

In Frogger, the water is deadly — unless you're on a log. The mechanic works like this:

1. If frog is in **water zone** AND **on a log** → ride the log
2. If frog is in **water zone** AND **not on a log** → death (next unit)
3. If frog is in **road zone** → normal movement
4. If frog is in **grass zone** → safe

## Zone Detection

We can determine the zone from the frog's Y position:

<CodeFromFile src="commodore-amiga/game-01-signal/unit-07/snippets/01-zone-detection.asm" lang="asm" />

Checking the zone:

<CodeFromFile src="commodore-amiga/game-01-signal/unit-07/snippets/02-zone-detection.asm" lang="asm" />

## Log Collision Detection

To check if the frog is on a log, we compare their bounding boxes:

<CodeFromFile src="commodore-amiga/game-01-signal/unit-07/snippets/03-log-collision-detection.asm" lang="asm" />

## Platform Movement

When the frog is on a log, it moves with the log:

<CodeFromFile src="commodore-amiga/game-01-signal/unit-07/snippets/04-platform-movement.asm" lang="asm" />

## Build It. Run It.

```bash
vasmm68k_mot -Fhunkexe -kick1hunks -o hop -nosym hop.asm
xdftool hop.adf create + format "Hop" ofs + boot install boot1x + write hop + makedir s
echo "hop" > startup-sequence
xdftool hop.adf write startup-sequence s/startup-sequence
fs-uae --floppy_drive_0=hop.adf
```

Hop onto a log — the frog should ride along with it!

## What You've Learnt

- **Zone detection** uses Y position to determine game area
- **Bounding box collision** checks for overlap in both X and Y
- **Platform mechanics** add the platform's velocity to the rider
- **Signed comparisons** handle objects that can be at negative positions

## The Complete Code

Here's the full `hop.asm` with platform mechanics:

<CodeFromFile src="commodore-amiga/game-01-signal/unit-07/hop.asm" lang="asm" />

## Recap / Sanity Check

Before moving on, verify:

- [ ] Frog rides logs when in water zone
- [ ] Frog moves with log speed automatically
- [ ] Frog stays within screen boundaries while riding
- [ ] Road and grass zones work normally

## Next Unit

The frog can ride logs, but falling into the water should be fatal.

In [Unit 8: Collision and Death](/commodore-amiga/game-01-signal/unit-08), we add collision detection with cars and drowning in water.
