---
title: "Drawing the Board"
description: "Create the game board — an 8×8 playing area, centred on screen, ready for territory battles."
pubDate: 2026-01-09
game: 1
gameName: "Ink War"
unit: 3
totalUnits: 64
system: "Sinclair ZX Spectrum"
tags: ["assembly", "z80", "display", "game-board", "constants"]
prevLesson: "/sinclair-zx-spectrum/assembly/game-01-ink-war/unit-02"
nextLesson: "/sinclair-zx-spectrum/assembly/game-01-ink-war/unit-04"
layout: "../../../../layouts/UnitLayout.astro"
---

import CodeFromFile from "@components/CodeFromFile.astro";
import InlineNote from "../../../../components/units/InlineNote.astro";

## What You're Building

Patterns are useful for learning, but we need an actual game board. Ink War uses an 8×8 grid of cells — 64 territories to fight over.

By the end of this unit, you'll have:

- A centred 8×8 playing area
- A visible border framing the board
- Clean, organised code using constants
- The foundation for all gameplay to come

![Unit 3 Screenshot](/images/sinclair-zx-spectrum/game-01-ink-war/unit-03/screenshot.png)

## Planning the Layout

The Spectrum screen has 32×24 attribute cells. Our board is 8×8 cells, plus we want a 1-cell border around it — that's 10×10 total.

To centre a 10-cell-wide element on a 32-cell-wide screen:
- Left margin = (32 - 10) ÷ 2 = 11 cells

To centre vertically on 24 rows:
- Top margin = (24 - 10) ÷ 2 = 7 rows

So our border starts at row 7, column 11. The playable area starts one cell inside: row 8, column 12.

## Using Constants

Hard-coding numbers like `8` and `12` throughout our code is asking for trouble. If we later decide to change the board position, we'd have to hunt through every line. Instead, we use constants:

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-03/snippets/01-board-constants.asm" />

Now we write `BOARD_LEFT` instead of `12`. If we want to move the board, we change one line.

<InlineNote>
EQU doesn't create a variable — it's a compile-time substitution. The assembler replaces every `BOARD_LEFT` with `12` before generating machine code. Zero runtime cost.
</InlineNote>

## Step 1: Clear the Screen

First, we fill the entire screen with black. This gives us a clean slate:

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-03/snippets/02-clear-to-black.asm" />

We use `%00000000` — black paper and black ink. The entire screen becomes a uniform black.

## Step 2: Draw the Board

Now we fill the 8×8 playing area with white (the "empty cell" colour):

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-03/snippets/03-draw-board.asm" />

This nested loop pattern is fundamental:
1. Outer loop counts rows (B register)
2. Inner loop counts columns (also B register, after saving)
3. After each row, we add 32 to HL to move to the next row

The `push`/`pop` instructions save and restore values. We save BC (the row counter) before using B for the column loop, then restore it.

## Step 3: Draw the Border

The border is a frame of white cells around the playing area:

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-03/snippets/04-draw-border.asm" />

We draw four sides:
1. Top row — 10 cells
2. Bottom row — 10 cells
3. Left column — 8 cells (between top and bottom)
4. Right column — 8 cells

The sides skip the corners (already drawn by top/bottom) to avoid duplicate work.

## Drawing Order Matters

Notice we draw the border first, then the board. This means the board overwrites the inside of the border frame, leaving just the outer edge visible.

If we drew in the opposite order, the border would overwrite the board's edges. Always think about which elements should be "on top".

## Build It. Run It.

```bash
pasmonext --sna inkwar.asm inkwar.sna
```

You should see:

- Black screen (border and background)
- White rectangle in the centre (the game board)
- The board is clearly defined, ready for gameplay

## What You've Learnt

- **Constants (EQU)**: Named values for readable, maintainable code
- **Centering**: Calculate margins from screen size minus element size
- **Nested loops**: Outer loop for rows, inner loop for columns
- **PUSH/POP**: Save and restore registers during nested loops
- **Drawing order**: Later drawing overwrites earlier — plan accordingly

## The Complete Code

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-03/inkwar.asm" />

## Next Unit

We have a board. Now we need to show what happens when players claim cells. In Unit 4, we'll define player colours — bright red for Player 1, bright blue for Player 2 — and create routines to mark territory. The battle begins.
