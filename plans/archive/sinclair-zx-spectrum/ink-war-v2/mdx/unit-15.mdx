---
title: "Play Again"
description: "Add visual polish with flashing prompts and smooth transitions. Make it obvious the game is ready for another round."
pubDate: 2026-01-09
game: 1
gameName: "Ink War"
unit: 15
totalUnits: 64
system: "Sinclair ZX Spectrum"
tags: ["assembly", "z80", "animation", "polish", "transition"]
prevLesson: "/sinclair-zx-spectrum/assembly/game-01-ink-war/unit-14"
nextLesson: "/sinclair-zx-spectrum/assembly/game-01-ink-war/unit-16"
layout: "../../../../layouts/UnitLayout.astro"
---

import CodeFromFile from "@components/CodeFromFile.astro";
import InlineNote from "../../../../components/units/InlineNote.astro";

## What You're Building

The game loops correctly now, but the "PRESS ANY KEY" prompt on the results screen just sits there. Static text is easy to miss. In this unit, we add visual feedback that draws the eye and a satisfying transition when restarting.

By the end of this unit, you'll have:

- A flashing "PRESS ANY KEY" prompt that draws attention
- Sound feedback when pressing to restart
- A screen flash transition between states
- A polished restart experience

![Unit 15 Screenshot](/images/sinclair-zx-spectrum/game-01-ink-war/unit-15/screenshot.png)

*Title screen — the flashing prompt appears on the results screen after a game.*

## Flashing Animation Variables

To animate the prompt, we need state that persists across frames:

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-15/snippets/01-flash-variables.asm" />

The counter counts frames. The toggle tracks whether we're in the "on" or "off" state. Both reset when entering the results state.

<InlineNote>
We could use the ZX Spectrum's FLASH attribute bit, but manual control gives us finer timing control — we can choose exactly how fast the flash appears.
</InlineNote>

## Flashing the Prompt

Every frame during results, we check if it's time to toggle:

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-15/snippets/02-flash-prompt.asm" />

Using `AND %00001111` means we toggle every 16 frames — roughly three times per second. Fast enough to catch attention, slow enough not to be annoying.

The colours alternate between yellow (normal) and white (flashed). White is brighter, creating the visual "pulse" effect.

## Transition Effects

When the player presses a key, we reward them with feedback:

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-15/snippets/03-transition-effect.asm" />

The screen briefly flashes white, then goes black before the title reappears. This visual punctuation says "something happened" — the input was acknowledged.

The ascending tones (low → mid → high) feel optimistic, like starting fresh.

## Build It. Run It.

```bash
pasmonext --sna inkwar.asm inkwar.sna
```

Run in your emulator:

1. Press any key to start
2. Play through a full game
3. On the results screen, watch the "PRESS ANY KEY" flash
4. Press a key — notice the screen flash and sound
5. You're back at the title, ready for another game

The feedback makes restarting feel deliberate and responsive.

## What You've Learnt

- **Frame-based animation**: Counting frames to time visual changes
- **Toggle state**: Using XOR to flip between two values
- **Bit masking for timing**: `AND` to check intervals efficiently
- **Visual transitions**: Brief flashes to acknowledge input
- **Audio feedback**: Sound to confirm player actions
- **Polish details**: Small touches that make games feel complete

## The Complete Code

<CodeFromFile src="sinclair-zx-spectrum/game-01-ink-war/unit-15/inkwar.asm" />

## Next Unit

The game is functionally complete. In Unit 16, we'll do a final review, ensure everything works together smoothly, and you'll have a complete two-player game you can share with friends.
