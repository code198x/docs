;──────────────────────────────────────────────────────────────
; INVULNERABILITY CHECK
;──────────────────────────────────────────────────────────────
; Skip collision detection while invulnerable.

.proc check_enemy_collision
    ; Skip if invulnerable
    lda invuln_timer
    bne @no_collision       ; Timer > 0 means invulnerable

    ldx #0
@loop:
    ; ... collision detection code ...
    jsr lose_life
    rts

@next:
    inx
    cpx #NUM_ENEMIES
    bne @loop

@no_collision:
    rts
.endproc

; In the main loop, we decrement the timer each frame:
;
;     lda invuln_timer
;     beq @no_invuln
;     dec invuln_timer
; @no_invuln:
