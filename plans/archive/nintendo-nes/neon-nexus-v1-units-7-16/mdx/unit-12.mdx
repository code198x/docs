---
title: "Lives System"
description: "Add multiple chances — lives, invulnerability, and a flashing player."
pubDate: 2026-01-10
game: 1
gameName: "Neon Nexus"
unit: 12
totalUnits: 64
system: "Nintendo Entertainment System"
tags: ["assembly", "6502", "game-state", "sprites"]
prevLesson: "/nintendo-entertainment-system/assembly/game-01-neon-nexus/unit-11"
nextLesson: "/nintendo-entertainment-system/assembly/game-01-neon-nexus/unit-13"
layout: "../../../../layouts/UnitLayout.astro"
---

import CodeFromFile from "@components/CodeFromFile.astro";

## What You're Building

One hit, game over. That's harsh. Classic games give you multiple chances.

By the end of this unit, you'll have:

- A lives counter (starting at 3)
- Lives displayed in the HUD
- Invulnerability after getting hit
- Player sprite flashing to show invulnerability
- Game over only when lives reach zero

The game becomes more forgiving — but still challenging.

## Lives Variables

Track lives and invulnerability state:

<CodeFromFile src="nintendo-entertainment-system/game-01-neon-nexus/unit-12/snippets/01-lives-variables.asm" />

The invulnerability timer prevents "combo hits" — touching an enemy shouldn't drain all your lives instantly.

## Losing a Life

When hit, decrement lives and check for game over:

<CodeFromFile src="nintendo-entertainment-system/game-01-neon-nexus/unit-12/snippets/02-lose-life.asm" />

If lives remain, we set the invulnerability timer. If lives reach zero, game over.

## Invulnerability Check

Skip collision detection while the timer is active:

<CodeFromFile src="nintendo-entertainment-system/game-01-neon-nexus/unit-12/snippets/03-invulnerability.asm" />

The main loop decrements the timer each frame. When it reaches zero, collisions are checked again.

## Player Flash Effect

Visual feedback is crucial — the player needs to know they're invulnerable. We make the sprite flash:

<CodeFromFile src="nintendo-entertainment-system/game-01-neon-nexus/unit-12/snippets/04-player-flash.asm" />

The trick: AND the timer with `%00000100` (bit 2). This bit flips every 4 frames, creating an on-off-on-off pattern.

## Lives Display

Show the lives count in the HUD:

<CodeFromFile src="nintendo-entertainment-system/game-01-neon-nexus/unit-12/snippets/05-lives-display.asm" />

Lives is a single digit (0-9), so we just add the tile offset — no hundreds/tens conversion needed.

## The Complete Code

Here's our program with the lives system:

<CodeFromFile src="nintendo-entertainment-system/game-01-neon-nexus/unit-12/nexus.asm" />

## Build It. Run It.

```bash
ca65 nexus.asm -o nexus.o
ld65 -C nes.cfg nexus.o -o nexus.nes
fceux nexus.nes
```

You should see SCORE and LIVES in the HUD:

![Lives system with HUD](/images/nintendo-entertainment-system/game-01-neon-nexus/unit-12/screenshot.png)

When you touch an enemy:
1. Lives decrements from 3 to 2
2. Player starts flashing
3. You can move through enemies safely for 1.5 seconds
4. When flashing stops, you're vulnerable again
5. At 0 lives, game over

## Why 90 Frames?

At 60fps, 90 frames = 1.5 seconds. This is a sweet spot:

- **Too short** (30 frames): Player has no time to escape
- **Too long** (180 frames): No tension, feels broken
- **1.5 seconds**: Enough time to move away, short enough to feel urgent

Tweak this value if the game feels too easy or too hard.

## The Flashing Technique

Using `AND #%00000100` on a decrementing counter creates a regular flash pattern. Why bit 2?

- Bit 0 flips every frame (too fast to see)
- Bit 1 flips every 2 frames (still too fast)
- Bit 2 flips every 4 frames (visible, not annoying)
- Bit 3 flips every 8 frames (too slow, looks broken)

This technique appears in countless NES games. Now you know how they did it.

## What You've Learnt

- **Lives counter**: Simple decrement with game over check
- **Invulnerability timer**: Skip collision checks while active
- **Sprite flashing**: AND with bit pattern for regular on/off
- **Multiple HUD elements**: Managing several display values
- **Game feel**: How timing affects player experience

## Next Unit

The mechanics are solid. In Unit 13, we'll add enemy variety — different movement patterns to make gameplay more interesting.
