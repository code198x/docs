# Game 16: Requiem for a Mapper - Complete 512-Unit Outline

## Game Overview
**Platform:** Nintendo Entertainment System
**Genre:** Action-adventure epic
**Concept:** The ultimate NES capstone combining everything learned into a commercial-quality masterpiece. An epic adventure honouring the bank-switching magic that made larger NES games possible, showcasing advanced MMC3 techniques and polished production.

**Technical Focus:**
- All previous techniques at mastery level
- Advanced MMC3 usage (IRQ, PRG/CHR banking)
- Large world with multiple gameplay styles
- Battery-backed save system
- DMC sample integration
- Commercial-quality polish and presentation

---

## Phase 1: Foundation (Units 1-16)
Unit 1: Project architecture
Unit 2: Memory map design
Unit 3: MMC3 setup
Unit 4: PRG banking strategy
Unit 5: CHR banking strategy
Unit 6: Asset management
Unit 7: Core game loop
Unit 8: State machine
Unit 9: PPU setup
Unit 10: NMI handler
Unit 11: Input handling
Unit 12: Collision framework
Unit 13: Entity system
Unit 14: Sprite management
Unit 15: Background system
Unit 16: Phase 1 integration
**Runnable each unit**

---

## Phase 2: Advanced PPU (Units 17-32)
Unit 17: Nametable mastery
Unit 18: Attribute tables
Unit 19: Palette management
Unit 20: CHR animation
Unit 21: MMC3 IRQ setup
Unit 22: Scanline counting
Unit 23: Status bar split
Unit 24: Parallax scrolling
Unit 25: Multi-layer effects
Unit 26: Sprite 0 techniques
Unit 27: Sprite overflow
Unit 28: Flicker management
Unit 29: Dynamic CHR updates
Unit 30: PPU timing mastery
Unit 31: Visual effects
Unit 32: Phase 2 integration
**Runnable each unit**

---

## Phase 3: Advanced APU (Units 33-48)
Unit 33: APU deep dive
Unit 34: Pulse optimisation
Unit 35: Triangle mastery
Unit 36: Noise techniques
Unit 37: DMC basics
Unit 38: DMC samples
Unit 39: Sample playback
Unit 40: Music with DMC
Unit 41: Sound driver
Unit 42: Music composition
Unit 43: Dynamic music
Unit 44: Sound effects
Unit 45: Priority system
Unit 46: Music/SFX mixing
Unit 47: Audio transitions
Unit 48: Phase 3 integration
**Runnable each unit**

---

## Phase 4: World Design (Units 49-64)
Unit 49: World structure
Unit 50: Zone architecture
Unit 51: Room layouts
Unit 52: Metatile system
Unit 53: Tile compression
Unit 54: Room streaming
Unit 55: Zone transitions
Unit 56: Transition effects
Unit 57: Hub design
Unit 58: Zone 1 layout
Unit 59: Zone 2 layout
Unit 60: Zone 3 layout
Unit 61: Zone 4 layout
Unit 62: Zone 5 layout
Unit 63: World connections
Unit 64: Phase 4 integration
**Runnable each unit**

---

## Phase 5: Player Systems (Units 65-80)
Unit 65: Player character
Unit 66: Movement physics
Unit 67: Jump mechanics
Unit 68: Variable jump
Unit 69: Coyote time
Unit 70: Attack system
Unit 71: Combo attacks
Unit 72: Special moves
Unit 73: Sub-weapons
Unit 74: Inventory
Unit 75: Equipment
Unit 76: Health system
Unit 77: Lives system
Unit 78: Respawn system
Unit 79: Player animation
Unit 80: Phase 5 integration
**Runnable each unit**

---

## Phase 6: Combat (Units 81-96)
Unit 81: Combat framework
Unit 82: Melee attacks
Unit 83: Ranged attacks
Unit 84: Hit detection
Unit 85: Damage calculation
Unit 86: Knockback
Unit 87: Invincibility frames
Unit 88: Enemy damage
Unit 89: Critical hits
Unit 90: Status effects
Unit 91: Combat feedback
Unit 92: Hit flash
Unit 93: Death effects
Unit 94: Combat audio
Unit 95: Combo scoring
Unit 96: Phase 6 integration
**Runnable each unit**

---

## Phase 7: Enemies 1 (Units 97-112)
Unit 97: Enemy framework
Unit 98: Basic AI
Unit 99: Patrol behaviour
Unit 100: Chase behaviour
Unit 101: Attack patterns
Unit 102: Slime enemy
Unit 103: Skeleton enemy
Unit 104: Ghost enemy
Unit 105: Bat enemy
Unit 106: Snake enemy
Unit 107: Soldier enemy
Unit 108: Archer enemy
Unit 109: Mage enemy
Unit 110: Enemy spawning
Unit 111: Wave management
Unit 112: Phase 7 integration
**Runnable each unit**

---

## Phase 8: Enemies 2 (Units 113-128)
Unit 113: Advanced AI
Unit 114: Pathfinding
Unit 115: Group behaviour
Unit 116: Flanking
Unit 117: Knight enemy
Unit 118: Demon enemy
Unit 119: Elemental enemy
Unit 120: Flying enemy
Unit 121: Aquatic enemy
Unit 122: Mini-boss design
Unit 123: Mini-boss 1
Unit 124: Mini-boss 2
Unit 125: Mini-boss 3
Unit 126: Mini-boss 4
Unit 127: Mini-boss 5
Unit 128: Phase 8 integration
**Runnable each unit**

---

## Phase 9: Boss Battles (Units 129-144)
Unit 129: Boss framework
Unit 130: Boss arena design
Unit 131: Boss state machine
Unit 132: Attack patterns
Unit 133: Phase transitions
Unit 134: Zone 1 boss
Unit 135: Zone 1 boss phase 2
Unit 136: Zone 2 boss
Unit 137: Zone 2 boss phase 2
Unit 138: Zone 3 boss
Unit 139: Zone 3 boss phase 2
Unit 140: Zone 4 boss
Unit 141: Zone 4 boss phase 2
Unit 142: Zone 5 boss
Unit 143: Zone 5 boss phase 2
Unit 144: Phase 9 integration
**Runnable each unit**

---

## Phase 10: Final Boss (Units 145-160)
Unit 145: Final arena
Unit 146: Final boss design
Unit 147: Final boss intro
Unit 148: Phase 1 attacks
Unit 149: Phase 1 patterns
Unit 150: Phase transition 1
Unit 151: Phase 2 attacks
Unit 152: Phase 2 patterns
Unit 153: Phase transition 2
Unit 154: Phase 3 attacks
Unit 155: Phase 3 patterns
Unit 156: Desperation mode
Unit 157: Final defeat
Unit 158: Victory sequence
Unit 159: Post-battle effects
Unit 160: Phase 10 integration
**Runnable each unit**

---

## Phase 11: Items and Upgrades (Units 161-176)
Unit 161: Item framework
Unit 162: Health items
Unit 163: Sub-weapon ammo
Unit 164: Power-ups
Unit 165: Weapon upgrades
Unit 166: Armour upgrades
Unit 167: Sub-weapon upgrades
Unit 168: Key items
Unit 169: Quest items
Unit 170: Collectibles
Unit 171: Shop system
Unit 172: Currency
Unit 173: Item descriptions
Unit 174: Equipment effects
Unit 175: Upgrade paths
Unit 176: Phase 11 integration
**Runnable each unit**

---

## Phase 12: Puzzles (Units 177-192)
Unit 177: Puzzle framework
Unit 178: Push blocks
Unit 179: Pressure plates
Unit 180: Switches and levers
Unit 181: Timed puzzles
Unit 182: Sequence puzzles
Unit 183: Key collection
Unit 184: Lock and key
Unit 185: Environmental puzzles
Unit 186: Light puzzles
Unit 187: Sound puzzles
Unit 188: Multi-room puzzles
Unit 189: Optional puzzles
Unit 190: Reward puzzles
Unit 191: Puzzle hints
Unit 192: Phase 12 integration
**Runnable each unit**

---

## Phase 13: Story (Units 193-208)
Unit 193: Story structure
Unit 194: Dialogue system
Unit 195: Text rendering
Unit 196: Portrait system
Unit 197: Character tiles
Unit 198: Cutscene engine
Unit 199: Opening sequence
Unit 200: Zone intros
Unit 201: Mid-game twist
Unit 202: Zone outros
Unit 203: NPC interactions
Unit 204: Lore collectibles
Unit 205: Memory fragments
Unit 206: Good ending
Unit 207: Best ending
Unit 208: Phase 13 integration
**Runnable each unit**

---

## Phase 14: Zone 1 - Ruins (Units 209-224)
Unit 209: Ruins tileset
Unit 210: Ruins palette
Unit 211: Ruins enemies
Unit 212: Ruins room 1-4
Unit 213: Ruins room 5-8
Unit 214: Ruins room 9-12
Unit 215: Ruins room 13-16
Unit 216: Ruins secrets
Unit 217: Ruins puzzles
Unit 218: Ruins mini-boss
Unit 219: Ruins boss prep
Unit 220: Ruins music
Unit 221: Ruins ambiance
Unit 222: Ruins effects
Unit 223: Ruins polish
Unit 224: Phase 14 integration
**Runnable each unit**

---

## Phase 15: Zone 2 - Forest (Units 225-240)
Unit 225: Forest tileset
Unit 226: Forest palette
Unit 227: Forest enemies
Unit 228: Forest room 1-4
Unit 229: Forest room 5-8
Unit 230: Forest room 9-12
Unit 231: Forest room 13-16
Unit 232: Forest secrets
Unit 233: Forest puzzles
Unit 234: Forest mini-boss
Unit 235: Forest boss prep
Unit 236: Forest music
Unit 237: Forest ambiance
Unit 238: Forest effects
Unit 239: Forest polish
Unit 240: Phase 15 integration
**Runnable each unit**

---

## Phase 16: Zone 3 - Castle (Units 241-256)
Unit 241: Castle tileset
Unit 242: Castle palette
Unit 243: Castle enemies
Unit 244: Castle room 1-4
Unit 245: Castle room 5-8
Unit 246: Castle room 9-12
Unit 247: Castle room 13-16
Unit 248: Castle secrets
Unit 249: Castle puzzles
Unit 250: Castle mini-boss
Unit 251: Castle boss prep
Unit 252: Castle music
Unit 253: Castle ambiance
Unit 254: Castle effects
Unit 255: Castle polish
Unit 256: Phase 16 integration
**Runnable each unit**

---

## Phase 17: Zone 4 - Caverns (Units 257-272)
Unit 257: Cavern tileset
Unit 258: Cavern palette
Unit 259: Cavern enemies
Unit 260: Cavern room 1-4
Unit 261: Cavern room 5-8
Unit 262: Cavern room 9-12
Unit 263: Cavern room 13-16
Unit 264: Cavern secrets
Unit 265: Cavern puzzles
Unit 266: Cavern mini-boss
Unit 267: Cavern boss prep
Unit 268: Cavern music
Unit 269: Cavern ambiance
Unit 270: Cavern effects
Unit 271: Cavern polish
Unit 272: Phase 17 integration
**Runnable each unit**

---

## Phase 18: Zone 5 - Sky Fortress (Units 273-288)
Unit 273: Fortress tileset
Unit 274: Fortress palette
Unit 275: Fortress enemies
Unit 276: Fortress room 1-4
Unit 277: Fortress room 5-8
Unit 278: Fortress room 9-12
Unit 279: Fortress room 13-16
Unit 280: Fortress secrets
Unit 281: Fortress puzzles
Unit 282: Fortress mini-boss
Unit 283: Fortress boss prep
Unit 284: Fortress music
Unit 285: Fortress ambiance
Unit 286: Fortress effects
Unit 287: Fortress polish
Unit 288: Phase 18 integration
**Runnable each unit**

---

## Phase 19: Hub and Secrets (Units 289-304)
Unit 289: Hub design
Unit 290: Hub navigation
Unit 291: Hub NPCs
Unit 292: Hub shop
Unit 293: Hub music
Unit 294: Secret zone 1
Unit 295: Secret zone 2
Unit 296: Secret zone 3
Unit 297: Hidden boss
Unit 298: Challenge rooms
Unit 299: Time trials
Unit 300: Speedrun route
Unit 301: 100% route
Unit 302: New Game+ content
Unit 303: Hard mode secrets
Unit 304: Phase 19 integration
**Runnable each unit**

---

## Phase 20: Audio Polish (Units 305-320)
Unit 305: Music review
Unit 306: Title theme
Unit 307: Hub theme
Unit 308: Zone themes
Unit 309: Boss themes
Unit 310: Final boss theme
Unit 311: Victory theme
Unit 312: Ending themes
Unit 313: SFX review
Unit 314: Combat sounds
Unit 315: UI sounds
Unit 316: Ambient sounds
Unit 317: DMC samples
Unit 318: Music transitions
Unit 319: Audio mixing
Unit 320: Phase 20 integration
**Runnable each unit**

---

## Phase 21: Visual Polish (Units 321-336)
Unit 321: Sprite review
Unit 322: Animation polish
Unit 323: Background polish
Unit 324: Effect polish
Unit 325: Palette optimisation
Unit 326: CHR optimisation
Unit 327: Title screen
Unit 328: Title effects
Unit 329: Menu design
Unit 330: HUD polish
Unit 331: Transition effects
Unit 332: Death effects
Unit 333: Victory effects
Unit 334: Ending visuals
Unit 335: Credits sequence
Unit 336: Phase 21 integration
**Runnable each unit**

---

## Phase 22: Game Flow (Units 337-352)
Unit 337: Boot sequence
Unit 338: Title flow
Unit 339: New game flow
Unit 340: Continue flow
Unit 341: Save system
Unit 342: Load system
Unit 343: Pause menu
Unit 344: Options menu
Unit 345: Difficulty select
Unit 346: Game over flow
Unit 347: Ending flow
Unit 348: Credits flow
Unit 349: Return to title
Unit 350: Attract mode
Unit 351: Demo play
Unit 352: Phase 22 integration
**Runnable each unit**

---

## Phase 23: Save System (Units 353-368)
Unit 353: SRAM setup
Unit 354: Save architecture
Unit 355: Save data format
Unit 356: Progress tracking
Unit 357: Checkpoint system
Unit 358: Save points
Unit 359: Quick save
Unit 360: Save to SRAM
Unit 361: Load from SRAM
Unit 362: Save verification
Unit 363: Corruption handling
Unit 364: Multiple slots
Unit 365: Slot management
Unit 366: Save indicators
Unit 367: Battery backup
Unit 368: Phase 23 integration
**Runnable each unit**

---

## Phase 24: Difficulty (Units 369-384)
Unit 369: Difficulty framework
Unit 370: Easy mode
Unit 371: Normal mode
Unit 372: Hard mode
Unit 373: Expert mode
Unit 374: Enemy balance
Unit 375: Boss balance
Unit 376: Item balance
Unit 377: Progression balance
Unit 378: Damage curves
Unit 379: Health curves
Unit 380: Difficulty testing
Unit 381: Player feedback
Unit 382: Balance iteration
Unit 383: Final balance
Unit 384: Phase 24 integration
**Runnable each unit**

---

## Phase 25: Testing 1 (Units 385-400)
Unit 385: Test plan
Unit 386: Zone 1 playthrough
Unit 387: Zone 2 playthrough
Unit 388: Zone 3 playthrough
Unit 389: Zone 4 playthrough
Unit 390: Zone 5 playthrough
Unit 391: Boss testing
Unit 392: Item testing
Unit 393: Save testing
Unit 394: Edge cases
Unit 395: Boundary testing
Unit 396: Stress testing
Unit 397: Memory testing
Unit 398: Performance testing
Unit 399: Bug fixing 1
Unit 400: Phase 25 integration
**Runnable each unit**

---

## Phase 26: Testing 2 (Units 401-416)
Unit 401: Full playthrough 1
Unit 402: Full playthrough 2
Unit 403: Speedrun test
Unit 404: 100% test
Unit 405: Hard mode test
Unit 406: New Game+ test
Unit 407: Secret content test
Unit 408: Multi-session test
Unit 409: Fresh start test
Unit 410: NTSC testing
Unit 411: PAL testing
Unit 412: Clone testing
Unit 413: Bug fixing 2
Unit 414: Polish pass 1
Unit 415: Polish pass 2
Unit 416: Phase 26 integration
**Runnable each unit**

---

## Phase 27: Optimisation (Units 417-432)
Unit 417: Performance profiling
Unit 418: CPU optimisation
Unit 419: Memory optimisation
Unit 420: PPU optimisation
Unit 421: Render optimisation
Unit 422: AI optimisation
Unit 423: Effect optimisation
Unit 424: Audio optimisation
Unit 425: Frame rate stability
Unit 426: Memory stability
Unit 427: Lag frame handling
Unit 428: Final optimisation
Unit 429: Size optimisation
Unit 430: PRG layout
Unit 431: CHR layout
Unit 432: Phase 27 integration
**Runnable each unit**

---

## Phase 28: ROM Production (Units 433-448)
Unit 433: ROM structure
Unit 434: Header setup
Unit 435: Mapper configuration
Unit 436: Bank layout final
Unit 437: SRAM configuration
Unit 438: ROM verification
Unit 439: Emulator testing
Unit 440: Accuracy testing
Unit 441: Hardware testing
Unit 442: Flash cart testing
Unit 443: PowerPak testing
Unit 444: EverDrive testing
Unit 445: Clone console testing
Unit 446: Final ROM
Unit 447: ROM checksum
Unit 448: Phase 28 integration
**Runnable each unit**

---

## Phase 29: Physical Production (Units 449-464)
Unit 449: Label design
Unit 450: Cart shell selection
Unit 451: PCB requirements
Unit 452: EPROM preparation
Unit 453: Manual design
Unit 454: Manual content
Unit 455: Box design
Unit 456: Box production
Unit 457: Insert design
Unit 458: Collector's items
Unit 459: Production testing
Unit 460: Assembly process
Unit 461: Quality control
Unit 462: Packaging
Unit 463: Limited edition
Unit 464: Phase 29 integration
**Runnable each unit**

---

## Phase 30: Expansion Audio (Units 465-480)
Unit 465: VRC6 overview
Unit 466: VRC6 setup
Unit 467: Extra pulse channels
Unit 468: Sawtooth channel
Unit 469: VRC6 music
Unit 470: MMC5 overview
Unit 471: MMC5 setup
Unit 472: MMC5 pulse channels
Unit 473: MMC5 PCM
Unit 474: MMC5 music
Unit 475: Expansion detection
Unit 476: Fallback audio
Unit 477: Expansion testing
Unit 478: Expansion polish
Unit 479: Expansion release
Unit 480: Phase 30 integration
**Runnable each unit**

---

## Phase 31: Extras (Units 481-496)
Unit 481: Gallery mode
Unit 482: Sound test
Unit 483: Boss rush
Unit 484: Time attack
Unit 485: Achievements
Unit 486: Statistics
Unit 487: Developer room
Unit 488: Easter eggs
Unit 489: Cheat codes
Unit 490: Debug mode (hidden)
Unit 491: Making of
Unit 492: Credits details
Unit 493: Thanks section
Unit 494: Special thanks
Unit 495: Dedication
Unit 496: Phase 31 integration
**Runnable each unit**

---

## Phase 32: Release (Units 497-512)
Unit 497: Final review
Unit 498: Final playthrough
Unit 499: Release checklist
Unit 500: Documentation
Unit 501: Source archive
Unit 502: Asset archive
Unit 503: Build system
Unit 504: Version tracking
Unit 505: Release notes
Unit 506: Known issues
Unit 507: Future plans
Unit 508: Release
Unit 509: Post-release
Unit 510: Retrospective
Unit 511: NES mastery
Unit 512: Complete Requiem for a Mapper
**Runnable each unit**

---

## Technical Summary

### Key NES Features at Mastery
- Advanced MMC3 (IRQ scanline, PRG/CHR banking)
- DMC sample integration
- Battery-backed SRAM save system
- Large world with multiple gameplay styles
- NTSC/PAL compatibility
- Optional expansion audio (VRC6, MMC5)
- Commercial-quality production

### Code Pattern
```asm
; MMC3 IRQ scanline split for status bar
setup_irq:
    lda #STATUS_BAR_HEIGHT
    sta $C000           ; Set scanline counter
    sta $C001           ; Reload counter
    sta $E001           ; Enable IRQ
    rts

irq_handler:
    pha
    sta $E000           ; Acknowledge IRQ

    ; Switch to status bar nametable
    lda #$00
    sta $2000           ; Disable NMI temporarily
    lda scroll_x
    sta $2005
    lda #$00            ; Fixed Y for status
    sta $2005

    ; Re-enable NMI
    lda #$90
    sta $2000

    pla
    rti
```

---

## Version History
- v1.0 - Initial 512-unit outline
